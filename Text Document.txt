<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>IQ –¥–ª—è 9 –∫–ª–∞—Å—Å–∞ (–°—Ö–µ–º–æ—Ç–µ—Ö–Ω–∏–∫–∞)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
    .container { max-width: 700px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);}
    h1, h2 { text-align: center; }
    button { padding: 10px 20px; margin: 10px; border: none; border-radius: 5px; cursor: pointer; background: #007bff; color: white; }
    button:hover { background: #0056b3; }
    .question { margin: 20px 0; }
    .options label { display: block; margin-bottom: 8px; }
    #result { text-align: center; }
    canvas { margin-top: 20px; }
  </style>
</head>
<body>

<div class="container" id="main-page">
  <h1>–ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏ —É–∑–Ω–∞–π —Å–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã!</h1>
  <div style="text-align:center;">
    <button onclick="startTest()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
  </div>
</div>

<div class="container" id="test-page" style="display:none;">
  <h2 id="question-text"></h2>
  <div class="options" id="options"></div>
  <div style="text-align:center;">
    <button onclick="nextQuestion()">–î–∞–ª–µ–µ</button>
  </div>
</div>

<div class="container" id="result-page" style="display:none;">
  <h2>–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h2>
  <canvas id="resultChart"></canvas>
  <p id="interpretation"></p>
  <div style="text-align:center;">
    <button onclick="restart()">–ü—Ä–æ–π—Ç–∏ —Å–Ω–æ–≤–∞</button>
    <button onclick="share()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</button>
  </div>
</div>

<script>
  // –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
  const questions = [
    {q:"–í–æ–ø—Ä–æ—Å 1 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:0, options:["–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π","–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π"]},
    {q:"–í–æ–ø—Ä–æ—Å 2 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:1, options:["–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ","–ü—Ä–∞–≤–∏–ª—å–Ω–æ"]},
    {q:"–í–æ–ø—Ä–æ—Å 3 (—Ñ–∏–∑–∏–∫–∞)", correct:0, options:["–î–∞","–ù–µ—Ç"]},
    {q:"–í–æ–ø—Ä–æ—Å 4 (—Ñ–∏–∑–∏–∫–∞)", correct:1, options:["–ù–µ—Ç","–î–∞"]},
    {q:"–í–æ–ø—Ä–æ—Å 5 (—Ñ–∏–∑–∏–∫–∞)", correct:0, options:["A","B","C"]},
    {q:"–í–æ–ø—Ä–æ—Å 6 (—Ñ–∏–∑–∏–∫–∞)", correct:2, options:["X","Y","Z"]},
    {q:"–í–æ–ø—Ä–æ—Å 7 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:1, options:["10","20"]},
    {q:"–í–æ–ø—Ä–æ—Å 8 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:0, options:["sin","cos"]},
    {q:"–í–æ–ø—Ä–æ—Å 9 (—Ñ–∏–∑–∏–∫–∞)", correct:0, options:["1","2"]},
    {q:"–í–æ–ø—Ä–æ—Å 10 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:1, options:["–ù–µ—Ç","–î–∞"]},
    {q:"–í–æ–ø—Ä–æ—Å 11 (—Ñ–∏–∑–∏–∫–∞)", correct:0, options:["–ê","–ë"]},
    {q:"–í–æ–ø—Ä–æ—Å 12 (—Ñ–∏–∑–∏–∫–∞)", correct:1, options:["–î–∞","–ù–µ—Ç"]},
    {q:"–í–æ–ø—Ä–æ—Å 13 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:0, options:["100","200"]},
    {q:"–í–æ–ø—Ä–æ—Å 14 (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞)", correct:1, options:["–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ","–ü—Ä–∞–≤–∏–ª—å–Ω–æ"]},
    {q:"–í–æ–ø—Ä–æ—Å 15 (—Ñ–∏–∑–∏–∫–∞)", correct:0, options:["–ê","–ë"]},
  ];

  const mathIndexes = [0,1,6,7,9,12,13];
  const physicsIndexes = [2,3,4,5,8,10,11,14];

  let current = 0;
  let answers = [];

  function startTest(){
    document.getElementById("main-page").style.display="none";
    document.getElementById("test-page").style.display="block";
    showQuestion();
  }

  function showQuestion(){
    let q = questions[current];
    document.getElementById("question-text").innerText = q.q;
    let optDiv = document.getElementById("options");
    optDiv.innerHTML = "";
    q.options.forEach((opt,i)=>{
      optDiv.innerHTML += `<label><input type="radio" name="answer" value="${i}"> ${opt}</label>`;
    });
  }

  function nextQuestion(){
    let selected = document.querySelector('input[name="answer"]:checked');
    if(!selected) return alert("–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç!");
    answers[current] = parseInt(selected.value);
    current++;
    if(current < questions.length){
      showQuestion();
    } else {
      showResult();
    }
  }

  function showResult(){
    document.getElementById("test-page").style.display="none";
    document.getElementById("result-page").style.display="block";

    let mathScore=0, physScore=0;
    mathIndexes.forEach(i=>{ if(answers[i]===questions[i].correct) mathScore++; });
    physicsIndexes.forEach(i=>{ if(answers[i]===questions[i].correct) physScore++; });

    let mathPercent = Math.round((mathScore/mathIndexes.length)*100);
    let physPercent = Math.round((physScore/physicsIndexes.length)*100);

    let ctx = document.getElementById("resultChart");
    new Chart(ctx, {
      type:'bar',
      data:{
        labels:['–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞','–§–∏–∑–∏–∫–∞'],
        datasets:[{
          label:'–ü—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤',
          data:[mathPercent,physPercent],
          backgroundColor:['#007bff','#28a745']
        }]
      }
    });

    function interp(p){
      if(p>70) return "–û—Ç–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.";
      if(p>=40) return "–•–æ—Ä–æ—à–∏–π —É—Ä–æ–≤–µ–Ω—å, –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏.";
      return "–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è.";
    }

    document.getElementById("interpretation").innerHTML =
      `–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ ‚Äî ${mathPercent}% (${interp(mathPercent)})<br>
       –§–∏–∑–∏–∫–∞ ‚Äî ${physPercent}% (${interp(physPercent)})`;
  }

  function restart(){
    current=0; answers=[];
    document.getElementById("result-page").style.display="none";
    document.getElementById("main-page").style.display="block";
  }

  function share(){
    alert("–§—É–Ω–∫—Ü–∏—è '–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º' –ø–æ–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ üôÇ");
  }
</script>

</body>
</html>
